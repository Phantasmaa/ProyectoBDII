<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href='http://fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900italic,900' rel='stylesheet' type='text/css'>
    <link rel='stylesheet' type='text/css' media='screen' href='style/index.css'>
    <title>Actualiza tus datos</title>
</head>
<body>
    <div class="header">
        <div class="logo">
            <img src="style/icons/BPUinvertido.svg" alt="incono">
        </div>
        <div class="options">  
            <div class="opciones">
                <div class="opcion" >
                    <div id="home">
                        <a href="index.html">
                            <img src="style/icons/Home.svg">
                        </a>
                    </div>
                </div>
                <div class="opcion" >
                    <a href="actualizarInfo.html">
                        <p>Actualiza tu informaci칩n</p>
                    </a>
                </div>
                <div class="opcion">
                    <a href="transaccion.html">
                        <p>Realiza una transacci칩n</p>
                    </a>                    
                </div>
                <div class="opcion" id="opcion-actual">
                        <p>Consulta estado de cuenta</p>
                </div>
            </div>
            <div class="linea-guia">
                <div class="indicador-otro"></div>
                <div class="linea"></div>
                <div class="indicador-otro"></div>
                <div class="linea"></div>
                <div class="indicador-otro"></div>
                <div class="linea"></div>
                <div class="indicador-actual"></div>
            </div>
        </div>
        <div class="logout">
            <img src="style/icons/salir.svg" alt="salir">
            <p>Salir</p>
        </div>
    </div>
    <div class="contenido">
        <div class="contenido-box">
            <div class="datos-obtenidos">
                <h2>Estado de cuenta</h2>
                <div class="dato">
                    <div class="nombre-dato">Nro cuenta:</div>
                    <div class="datoNeto"></div>    
                </div>
                <div class="dato">
                    <div class="nombre-dato">Titular:</div>
                    <div class="datoNeto"></div>    
                </div>
                <div class="dato">
                    <div class="nombre-dato">Ultimo egreso:</div>
                    <div class="datoNeto"></div>    
                </div>
                <div class="dato">
                    <div class="nombre-dato">Ultimo ingreso:</div>
                    <div class="datoNeto"></div>    
                </div>
                <div class="dato">
                    <div class="nombre-dato">Deudas:</div>
                    <div class="datoNeto"></div>    
                </div>
            </div>
        </div>
        
    </div>
    <script>
    // Realiza una solicitud AJAX al archivo PHP para obtener los datos del estado de cuenta
    function obtenerEstadoCuenta() {
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function() {
            if (xhr.readyState === 4 && xhr.status === 200) {
                var response = JSON.parse(xhr.responseText);
                // Actualiza los elementos HTML con los datos obtenidos
                document.querySelector('.datoNeto:nth-of-type(1)').textContent = response.nro_cuenta;
                document.querySelector('.datoNeto:nth-of-type(2)').textContent = response.titular;
                document.querySelector('.datoNeto:nth-of-type(3)').textContent = response.ultimo_egreso;
                document.querySelector('.datoNeto:nth-of-type(4)').textContent = response.ultimo_ingreso;
                document.querySelector('.datoNeto:nth-of-type(5)').textContent = response.deudas;
            }
        };
        xhr.open('GET', 'consulta_estado_cuenta.php', true);
        xhr.send();
    }

    // Llama a la funci칩n para obtener el estado de cuenta al cargar la p치gina
    obtenerEstadoCuenta();
    </script>
</body>
</html>
